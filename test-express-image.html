<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express Image Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .image-display {
            border: 2px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Express Promotion Image Test</h1>
        
        <div class="image-display">
            <h3>Test 1: Direct Image Tag</h3>
            <img id="directImg" src="images/teams/express_promotion.jpg" alt="Express FC Promotion">
            <div id="directStatus" class="status info">Loading...</div>
        </div>
        
        <div class="image-display">
            <h3>Test 2: JavaScript Created Image</h3>
            <div id="jsImageContainer"></div>
            <div id="jsStatus" class="status info">Creating...</div>
        </div>
        
        <div class="image-display">
            <h3>Test 3: Background Image</h3>
            <div id="bgImage" style="width: 300px; height: 200px; margin: 0 auto; background-size: cover; background-position: center; border: 1px solid #ccc;"></div>
            <div id="bgStatus" class="status info">Setting...</div>
        </div>
        
        <div class="image-display">
            <h3>Test 4: All Team Achievement Images</h3>
            <div id="allImages" style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;"></div>
            <div id="allStatus" class="status info">Loading all...</div>
        </div>
        
        <div class="image-display">
            <h3>üìä Results</h3>
            <div id="results"></div>
        </div>
    </div>

    <script>
        const results = [];
        let testsCompleted = 0;
        const totalTests = 4;
        
        function updateResults() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = results.map(r => 
                `<p style="color: ${r.success ? 'green' : 'red'};">
                    ${r.success ? '‚úÖ' : '‚ùå'} ${r.test}: ${r.message}
                </p>`
            ).join('');
            
            if (testsCompleted === totalTests) {
                const allPassed = results.every(r => r.success);
                resultsDiv.innerHTML += `<h4 style="color: ${allPassed ? 'green' : 'orange'};">
                    ${allPassed ? 'üéâ All tests passed!' : '‚ö†Ô∏è Some tests failed - check individual results above'}
                </h4>`;
            }
        }
        
        // Test 1: Direct Image Tag
        const directImg = document.getElementById('directImg');
        const directStatus = document.getElementById('directStatus');
        
        directImg.onload = function() {
            directStatus.textContent = '‚úÖ Loaded successfully!';
            directStatus.className = 'status success';
            results.push({test: 'Direct Image', success: true, message: `Loaded (${this.naturalWidth}x${this.naturalHeight})`});
            testsCompleted++;
            updateResults();
        };
        
        directImg.onerror = function() {
            directStatus.textContent = '‚ùå Failed to load';
            directStatus.className = 'status error';
            results.push({test: 'Direct Image', success: false, message: 'Failed to load'});
            testsCompleted++;
            updateResults();
        };
        
        // Test 2: JavaScript Created Image
        const jsImg = new Image();
        const jsContainer = document.getElementById('jsImageContainer');
        const jsStatus = document.getElementById('jsStatus');
        
        jsImg.onload = function() {
            jsContainer.appendChild(jsImg);
            jsImg.style.maxWidth = '300px';
            jsStatus.textContent = '‚úÖ JS Image created successfully!';
            jsStatus.className = 'status success';
            results.push({test: 'JavaScript Image', success: true, message: `Created and loaded (${this.naturalWidth}x${this.naturalHeight})`});
            testsCompleted++;
            updateResults();
        };
        
        jsImg.onerror = function() {
            jsStatus.textContent = '‚ùå JS Image failed';
            jsStatus.className = 'status error';
            results.push({test: 'JavaScript Image', success: false, message: 'Failed to create/load'});
            testsCompleted++;
            updateResults();
        };
        
        jsImg.src = 'images/teams/express_promotion.jpg';
        
        // Test 3: Background Image
        const bgImage = document.getElementById('bgImage');
        const bgStatus = document.getElementById('bgStatus');
        
        bgImage.style.backgroundImage = 'url("images/teams/express_promotion.jpg")';
        
        // Test background image by trying to load it first
        const bgTestImg = new Image();
        bgTestImg.onload = function() {
            bgStatus.textContent = '‚úÖ Background image set!';
            bgStatus.className = 'status success';
            results.push({test: 'Background Image', success: true, message: 'Background image applied successfully'});
            testsCompleted++;
            updateResults();
        };
        bgTestImg.onerror = function() {
            bgStatus.textContent = '‚ùå Background image failed';
            bgStatus.className = 'status error';
            results.push({test: 'Background Image', success: false, message: 'Failed to load as background'});
            testsCompleted++;
            updateResults();
        };
        bgTestImg.src = 'images/teams/express_promotion.jpg';
        
        // Test 4: All Achievement Images
        const allImages = ['kcca_champions.jpg', 'vipers_double.jpg', 'express_promotion.jpg'];
        const allContainer = document.getElementById('allImages');
        const allStatus = document.getElementById('allStatus');
        let loadedCount = 0;
        let failedCount = 0;
        
        allImages.forEach(imageName => {
            const img = new Image();
            img.style.maxWidth = '150px';
            img.style.border = '1px solid #ddd';
            img.style.borderRadius = '4px';
            
            img.onload = function() {
                allContainer.appendChild(img);
                loadedCount++;
                checkAllImagesComplete();
            };
            
            img.onerror = function() {
                failedCount++;
                const placeholder = document.createElement('div');
                placeholder.style.width = '150px';
                placeholder.style.height = '100px';
                placeholder.style.background = '#f8f9fa';
                placeholder.style.border = '1px solid #dc3545';
                placeholder.style.borderRadius = '4px';
                placeholder.style.display = 'flex';
                placeholder.style.alignItems = 'center';
                placeholder.style.justifyContent = 'center';
                placeholder.style.color = '#dc3545';
                placeholder.textContent = '‚ùå ' + imageName;
                allContainer.appendChild(placeholder);
                checkAllImagesComplete();
            };
            
            img.src = `images/teams/${imageName}`;
        });
        
        function checkAllImagesComplete() {
            if (loadedCount + failedCount === allImages.length) {
                allStatus.textContent = `‚úÖ Complete: ${loadedCount} loaded, ${failedCount} failed`;
                allStatus.className = failedCount === 0 ? 'status success' : 'status error';
                results.push({
                    test: 'All Achievement Images', 
                    success: failedCount === 0, 
                    message: `${loadedCount}/${allImages.length} images loaded successfully`
                });
                testsCompleted++;
                updateResults();
            }
        }
        
        // Log additional debugging info
        console.log('üîç Debug Info:');
        console.log('Current URL:', window.location.href);
        console.log('Base URL:', window.location.origin);
        console.log('Expected image path:', 'images/teams/express_promotion.jpg');
        console.log('Full image URL:', window.location.origin + '/final_project/images/teams/express_promotion.jpg');
        
        // Test if we can fetch the image
        fetch('images/teams/express_promotion.jpg')
            .then(response => {
                console.log('Fetch response status:', response.status);
                console.log('Fetch response ok:', response.ok);
                return response.blob();
            })
            .then(blob => {
                console.log('Image blob size:', blob.size, 'bytes');
                console.log('Image blob type:', blob.type);
            })
            .catch(error => {
                console.error('Fetch error:', error);
            });
    </script>
</body>
</html>